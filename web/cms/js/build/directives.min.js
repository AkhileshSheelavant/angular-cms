"use strict";angular.module("cms.directives",[]).directive("appVersion",["version",function(e){return function(t,n){n.text(e)}}]).directive("articleUrlName",[function(){return{restrict:"A",link:function(e,t,n){var c=function(e){if(!e)return"";var t=e,n=t.replace(/['ä']/g,"a").replace(/['ö']/g,"o").replace(/['ü']/g,"u").replace(/[\x7f-\xff]/g,"-").replace(/[\s]/g,"-");return n};e.$watch(n.ngModel,function(t){e.article&&(e.article.url_name=c(t))})}}}]).directive("pageUrlName",[function(){return{restrict:"A",link:function(e,t,n){var c=function(e){if(!e)return"";var t=e,n=t.replace(/[\x7f-\xff]/g,"").replace(/[ \t\r\n\v\f]/g,"-");return n};e.$watch(n.ngModel,function(t){e.page&&(e.page.url_name=c(t))})}}}]).directive("username",[function(){return{restrict:"A",link:function(e,t,n){e.debugModus&&console.log(n);var c="",r="";e.$watch("user.first_name",function(){e.user&&(c=e.user.first_name.substr(0,2).toLowerCase(),e.user.user_name=c+r)}),e.$watch("user.last_name",function(){e.user&&(r=e.user.last_name.substr(0,5).toLowerCase(),e.user.user_name=c+r)})}}}]).directive("geocode",[function(){return{restrict:"A",link:function(e,t){t.bind("keydown",function(t){(t.which>=48&&t.which<=90||t.which>=96&&t.which<=105||8===t.which||13===t.which||32===t.which)&&e.$apply(function(){e.$eval("checkTypeSpeed()")})})}}}]).directive("deleteObject",["$interval","$timeout","genService","$location",function(e,t,n,c){return{restrict:"A",link:function(r,i,u){var a,o,l=6;i.bind("click",function(){"started"===i.val()?(i.val("stopped"),e.cancel(a),r.deleteMsg="Abgebrochen",o=t(function(){r.deleteMsg="Löschen"},800)):(i.val("started"),t.cancel(o),a=e(function(e){r.deleteMsg="Abbrechen ["+(l-e-1)+"]"},1e3,l),a.then(function(){r.deleteMsg="Gelöscht",n.deleteObjectById(u.deleteObjectPath,u.deleteObjectId).then(function(){t(function(){var e=u.deleteRedirectPath||u.deleteObjectPath;c.path("/"+e)},2500)})}))}),i.on("$destroy",function(){t.cancel(o),e.cancel(a)})}}}]).directive("goBack",["$window",function(e){return{restrict:"A",link:function(t,n){n.bind("click",function(){t.isLocked=!t.isLocked,e.history.back()})}}}]);